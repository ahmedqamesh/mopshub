/****************************************************************************************************
 *                          ! THIS FILE WAS AUTO-GENERATED BY TMRG TOOL !                           *
 *                                   ! DO NOT EDIT IT MANUALLY !                                    *
 *                                                                                                  *
 * file    : ./output/biterrordetect2TMR.v                                                          *
 *                                                                                                  *
 * user    : lucas                                                                                  *
 * host    : DESKTOP-BFDSFP2                                                                        *
 * date    : 16/08/2022 12:58:07                                                                    *
 *                                                                                                  *
 * workdir : /mnt/c/Users/Lucas/Desktop/mopshub_triplication/mopshub_top_board_canakari_ftrim/hdl   *
 * cmd     : /mnt/c/Users/Lucas/Desktop/mopshub_triplication/tmrg-master/bin/tmrg -c tmrg.cfg -vvv  *
 * tmrg rev:                                                                                        *
 *                                                                                                  *
 * src file: biterrordetect2.v                                                                      *
 *           Git SHA           : File not in git repository!                                        *
 *           Modification time : 2022-03-29 13:49:21                                                *
 *           File Size         : 1977                                                               *
 *           MD5 hash          : 6ba2f44469d17bdab547332ab01f386a                                   *
 *                                                                                                  *
 ****************************************************************************************************/

module biterrordetect2TMR(
  input wire  clockA ,
  input wire  clockB ,
  input wire  clockC ,
  input wire  bitinA ,
  input wire  bitinB ,
  input wire  bitinC ,
  input wire  bitoutA ,
  input wire  bitoutB ,
  input wire  bitoutC ,
  input wire  activA ,
  input wire  activB ,
  input wire  activC ,
  input wire  resetA ,
  input wire  resetB ,
  input wire  resetC ,
  output wire  biterrorA ,
  output wire  biterrorB ,
  output wire  biterrorC 
);
wor errorTmrErrorC;
wire errorVotedC;
wor errorTmrErrorB;
wire errorVotedB;
wor errorTmrErrorA;
wire errorVotedA;
reg  errorA ;
reg  errorB ;
reg  errorC ;
assign biterrorA =  errorVotedA;
assign biterrorB =  errorVotedB;
assign biterrorC =  errorVotedC;

always @( posedge clockA )
  begin
    if (resetA==1'b0)
      errorA <= 1'b0;
    else
      if (activA==1'b1)
        begin
          if (bitinA!=bitoutA)
            errorA <= 1'b1;
          else
            errorA <= 1'b0;
        end
      else
        errorA <= errorVotedA;
  end

always @( posedge clockB )
  begin
    if (resetB==1'b0)
      errorB <= 1'b0;
    else
      if (activB==1'b1)
        begin
          if (bitinB!=bitoutB)
            errorB <= 1'b1;
          else
            errorB <= 1'b0;
        end
      else
        errorB <= errorVotedB;
  end

always @( posedge clockC )
  begin
    if (resetC==1'b0)
      errorC <= 1'b0;
    else
      if (activC==1'b1)
        begin
          if (bitinC!=bitoutC)
            errorC <= 1'b1;
          else
            errorC <= 1'b0;
        end
      else
        errorC <= errorVotedC;
  end

majorityVoter errorVoterA (
    .inA(errorA),
    .inB(errorB),
    .inC(errorC),
    .out(errorVotedA),
    .tmrErr(errorTmrErrorA)
    );

majorityVoter errorVoterB (
    .inA(errorA),
    .inB(errorB),
    .inC(errorC),
    .out(errorVotedB),
    .tmrErr(errorTmrErrorB)
    );

majorityVoter errorVoterC (
    .inA(errorA),
    .inB(errorB),
    .inC(errorC),
    .out(errorVotedC),
    .tmrErr(errorTmrErrorC)
    );
endmodule

