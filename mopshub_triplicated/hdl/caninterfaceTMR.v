/****************************************************************************************************
 *                          ! THIS FILE WAS AUTO-GENERATED BY TMRG TOOL !                           *
 *                                   ! DO NOT EDIT IT MANUALLY !                                    *
 *                                                                                                  *
 * file    : ./output/caninterfaceTMR.v                                                             *
 *                                                                                                  *
 * user    : lucas                                                                                  *
 * host    : DESKTOP-BFDSFP2                                                                        *
 * date    : 06/10/2022 13:52:41                                                                    *
 *                                                                                                  *
 * workdir : /mnt/c/Users/Lucas/Documents/GitHub/mopshub_triplicated/triplicated/mopshub_top_board/hdl *
 * cmd     : /mnt/c/Users/Lucas/Desktop/mopshub_triplication/tmrg-master/bin/tmrg -vv -c tmrg.cfg   *
 * tmrg rev:                                                                                        *
 *                                                                                                  *
 * src file: caninterface.v                                                                         *
 *           Git SHA           : c110441b08b692cc54ebd4a3b84a2599430e8f93                           *
 *           Modification time : 2022-10-05 21:13:51                                                *
 *           File Size         : 4908                                                               *
 *           MD5 hash          : 86b52cc810cb7c41187734726484e078                                   *
 *                                                                                                  *
 ****************************************************************************************************/

module can_interfaceTMR(
  input wire  rst ,
  input wire [4:0] addr ,
  input wire  initi ,
  input wire  write ,
  input wire  reset_can ,
  input wire  trim ,
  input wire [75:0] data_tra_mes ,
  output wire [3:0] cmd ,
  output wire [15:0] write_can 
);
reg  [15:0] write_can_reg ;
reg  [4:0] can_tra_reg ;
reg  [15:0] tra_control ;
reg  [15:0] rst_irq ;
reg  [15:0] gen_data ;
reg  [75:0] trim_data ;
initial
  begin
    write_can_reg =  16'h0;
    can_tra_reg =  5'h0;
    tra_control =  16'h8008;
    rst_irq =  16'h8070;
    gen_data =  16'h9C;
    trim_data =  {12'h555,64'hAAAAAAAAAAAAAAAA};
  end
assign write_can =  write_can_reg;
assign cmd =  {initi,write,reset_can,trim};

always @( * )
  if (!rst)
    write_can_reg <= 16'h0000;
  else
    begin
      case (cmd)
        4'b1000 : 
          begin
            case (addr)
              5'b01111 : write_can_reg <= 16'h0033;
              5'b01110 : write_can_reg <= 16'h00E3;
              5'b00101 : write_can_reg <= 16'h0000;
              5'b00100 : write_can_reg <= 16'h0000;
              5'b10010 : write_can_reg <= 16'h8070;
              5'b10001 : write_can_reg <= 16'h0000;
              5'b10000 : write_can_reg <= 16'h0000;
              default : write_can_reg <= 16'h0000;
            endcase
          end
        4'b0000 : 
          begin
            case (addr)
              5'b01100 : write_can_reg <= {data_tra_mes[74:64] ,5'h0};
              5'b01010 : write_can_reg <= {data_tra_mes[63:56] ,data_tra_mes[47:40] };
              5'b01001 : write_can_reg <= {data_tra_mes[55:48] ,data_tra_mes[39:32] };
              5'b01000 : write_can_reg <= {data_tra_mes[7:0] ,data_tra_mes[15:8] };
              5'b00111 : write_can_reg <= {data_tra_mes[23:16] ,data_tra_mes[31:24] };
              5'b01110 : write_can_reg <= gen_data;
              5'b01101 : write_can_reg <= tra_control;
              default : write_can_reg <= 16'h0;
            endcase
          end
        4'b0001 : 
          begin
            case (addr)
              5'b01100 : write_can_reg <= {trim_data[74:64] ,5'h0};
              5'b01010 : write_can_reg <= {trim_data[63:56] ,trim_data[47:40] };
              5'b01001 : write_can_reg <= {trim_data[55:48] ,trim_data[39:32] };
              5'b01000 : write_can_reg <= {trim_data[7:0] ,trim_data[15:8] };
              5'b00111 : write_can_reg <= {trim_data[23:16] ,trim_data[31:24] };
              5'b01110 : write_can_reg <= gen_data;
              5'b01101 : write_can_reg <= tra_control;
              default : write_can_reg <= 16'h0;
            endcase
          end
        4'b0010 : 
          begin
            case (addr)
              5'b01110 : write_can_reg <= gen_data;
              5'b10010 : write_can_reg <= rst_irq;
              default : write_can_reg <= 16'h0;
            endcase
          end
        default : write_can_reg <= 16'h0;
      endcase
    end
endmodule

