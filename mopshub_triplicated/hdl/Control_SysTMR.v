/****************************************************************************************************
 *                          ! THIS FILE WAS AUTO-GENERATED BY TMRG TOOL !                           *
 *                                   ! DO NOT EDIT IT MANUALLY !                                    *
 *                                                                                                  *
 * file    : ./output/Control_SysTMR.v                                                              *
 *                                                                                                  *
 * user    : lucas                                                                                  *
 * host    : DESKTOP-BFDSFP2                                                                        *
 * date    : 06/10/2022 13:52:32                                                                    *
 *                                                                                                  *
 * workdir : /mnt/c/Users/Lucas/Documents/GitHub/mopshub_triplicated/triplicated/mopshub_top_board/hdl *
 * cmd     : /mnt/c/Users/Lucas/Desktop/mopshub_triplication/tmrg-master/bin/tmrg -vv -c tmrg.cfg   *
 * tmrg rev:                                                                                        *
 *                                                                                                  *
 * src file: Control_Sys.v                                                                          *
 *           Git SHA           : c110441b08b692cc54ebd4a3b84a2599430e8f93                           *
 *           Modification time : 2022-08-23 20:14:36                                                *
 *           File Size         : 1045                                                               *
 *           MD5 hash          : 3f6177d102dd4c4b753e43c48e74af50                                   *
 *                                                                                                  *
 ****************************************************************************************************/

module Control_SysTMR(
  output [5:0] Ftrim ,
  output  ready ,
  input  CLK ,
  input [3:0] E1 ,
  input [7:0] Kd ,
  input [7:0] Ki ,
  input [7:0] Kp ,
  input  Prescale_En ,
  input  Puffer ,
  input  Reset ,
  input  Rx ,
  input  active 
);
wire [7:0] Ek;
wire [2:0] ctrl;
wire [3:0] Counter_C;
wire Enable;

PID_ReglerTMR pid_regler0 (
    .FTRIM(Ftrim[5:0] ),
    .CLK(CLK),
    .Ek(Ek[7:0] ),
    .Enable(Enable),
    .Kd(Kd[7:0] ),
    .Ki(Ki[7:0] ),
    .Kp(Kp[7:0] ),
    .Reset(Reset),
    .ctrl(ctrl[2:0] )
    );

CLK_CounterTMR clk_counter0 (
    .puffer(Puffer),
    .Counter_C(Counter_C),
    .Prescale_En(Prescale_En),
    .clk(CLK),
    .reset(Reset),
    .rx(Rx)
    );

Control_FSMTMR control_fsm0 (
    .Enable(Enable),
    .ctrl(ctrl),
    .CLK(CLK),
    .active(active),
    .E1(E1),
    .Puffer(Puffer),
    .Reset(Reset),
    .Rx(Rx)
    );

Phasenfehler_RegTMR phasenfehler_reg0 (
    .e_k(Ek),
    .E1(E1),
    .E2(Counter_C),
    .Enable(Enable),
    .Reset(Reset),
    .clk(CLK),
    .ctrl(ctrl)
    );

ready_counterTMR rdy_cnt0 (
    .clk(CLK),
    .rstn(Reset),
    .enable(Enable),
    .en_osc_trim(active),
    .ready(ready)
    );
endmodule

