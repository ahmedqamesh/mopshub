/****************************************************************************************************
 *                          ! THIS FILE WAS AUTO-GENERATED BY TMRG TOOL !                           *
 *                                   ! DO NOT EDIT IT MANUALLY !                                    *
 *                                                                                                  *
 * file    : ./output/accmaskreg2TMR.v                                                              *
 *                                                                                                  *
 * user    : lucas                                                                                  *
 * host    : DESKTOP-BFDSFP2                                                                        *
 * date    : 16/08/2022 12:58:07                                                                    *
 *                                                                                                  *
 * workdir : /mnt/c/Users/Lucas/Desktop/mopshub_triplication/mopshub_top_board_canakari_ftrim/hdl   *
 * cmd     : /mnt/c/Users/Lucas/Desktop/mopshub_triplication/tmrg-master/bin/tmrg -c tmrg.cfg -vvv  *
 * tmrg rev:                                                                                        *
 *                                                                                                  *
 * src file: accmaskreg2.v                                                                          *
 *           Git SHA           : File not in git repository!                                        *
 *           Modification time : 2022-03-29 13:49:21                                                *
 *           File Size         : 1647                                                               *
 *           MD5 hash          : 3ab17399303db370680f4c738fe3b6c8                                   *
 *                                                                                                  *
 ****************************************************************************************************/

module accmaskreg2TMR(
  input wire  clkA ,
  input wire  clkB ,
  input wire  clkC ,
  input wire  rstA ,
  input wire  rstB ,
  input wire  rstC ,
  input wire  cpuA ,
  input wire  cpuB ,
  input wire  cpuC ,
  input wire [15:0] reginpA ,
  input wire [15:0] reginpB ,
  input wire [15:0] reginpC ,
  output wire [15:0] regoutA ,
  output wire [15:0] regoutB ,
  output wire [15:0] regoutC 
);
wor reg_iTmrErrorC;
wire [15:0] reg_iVotedC;
wor reg_iTmrErrorB;
wire [15:0] reg_iVotedB;
wor reg_iTmrErrorA;
wire [15:0] reg_iVotedA;
reg  [15:0] reg_iA ;
reg  [15:0] reg_iB ;
reg  [15:0] reg_iC ;
assign regoutA =  reg_iVotedA;
assign regoutB =  reg_iVotedB;
assign regoutC =  reg_iVotedC;

always @( posedge clkA )
  begin
    if (rstA==1'b0)
      begin
        reg_iA <= 16'd0;
      end
    else
      begin
        reg_iA <= reg_iVotedA;
        if (cpuA==1'b1)
          begin
            reg_iA <= reginpA;
          end
      end
  end

always @( posedge clkB )
  begin
    if (rstB==1'b0)
      begin
        reg_iB <= 16'd0;
      end
    else
      begin
        reg_iB <= reg_iVotedB;
        if (cpuB==1'b1)
          begin
            reg_iB <= reginpB;
          end
      end
  end

always @( posedge clkC )
  begin
    if (rstC==1'b0)
      begin
        reg_iC <= 16'd0;
      end
    else
      begin
        reg_iC <= reg_iVotedC;
        if (cpuC==1'b1)
          begin
            reg_iC <= reginpC;
          end
      end
  end

majorityVoter #(.WIDTH(16)) reg_iVoterA (
    .inA(reg_iA),
    .inB(reg_iB),
    .inC(reg_iC),
    .out(reg_iVotedA),
    .tmrErr(reg_iTmrErrorA)
    );

majorityVoter #(.WIDTH(16)) reg_iVoterB (
    .inA(reg_iA),
    .inB(reg_iB),
    .inC(reg_iC),
    .out(reg_iVotedB),
    .tmrErr(reg_iTmrErrorB)
    );

majorityVoter #(.WIDTH(16)) reg_iVoterC (
    .inA(reg_iA),
    .inB(reg_iB),
    .inC(reg_iC),
    .out(reg_iVotedC),
    .tmrErr(reg_iTmrErrorC)
    );
endmodule

