/****************************************************************************************************
 *                          ! THIS FILE WAS AUTO-GENERATED BY TMRG TOOL !                           *
 *                                   ! DO NOT EDIT IT MANUALLY !                                    *
 *                                                                                                  *
 * file    : ./output/fifo_to_elink_structTMR.v                                                     *
 *                                                                                                  *
 * user    : lucas                                                                                  *
 * host    : DESKTOP-BFDSFP2                                                                        *
 * date    : 06/10/2022 13:52:49                                                                    *
 *                                                                                                  *
 * workdir : /mnt/c/Users/Lucas/Documents/GitHub/mopshub_triplicated/triplicated/mopshub_top_board/hdl *
 * cmd     : /mnt/c/Users/Lucas/Desktop/mopshub_triplication/tmrg-master/bin/tmrg -vv -c tmrg.cfg   *
 * tmrg rev:                                                                                        *
 *                                                                                                  *
 * src file: fifo_to_elink_struct.v                                                                 *
 *           Git SHA           : c110441b08b692cc54ebd4a3b84a2599430e8f93                           *
 *           Modification time : 2022-10-06 13:25:17                                                *
 *           File Size         : 2567                                                               *
 *           MD5 hash          : bab7755ce8191d7a652a8499a35abc1a                                   *
 *                                                                                                  *
 ****************************************************************************************************/

module fifo_to_elinkTMR(
  input wire  fifo_wr_en ,
  input wire  clk ,
  input wire [9:0] fifo_din ,
  input wire  fifo_flush ,
  output wire [1:0] data_2bit_out ,
  output wire  efifo_empty ,
  output wire  efifo_full ,
  input wire  rst ,
  input wire [7:0] Kchar_comma ,
  input wire [7:0] Kchar_sop ,
  input wire [7:0] Kchar_eop ,
  input wire [9:0] data_10bit_in_dbg ,
  input wire [9:0] COMMAn ,
  input wire [9:0] COMMAp ,
  input wire  rdy_dbg ,
  input wire  dbg_elink 
);
wire [9:0] data_10bit_in_fifo;
wire fifo_rd_en;
wire rdy_fifo;
wire data_in_rdy;
wire [9:0] data_10bit_in;
wire get_data_trig;

elink_proc_out_enc8b10bTMR elink_proc_out_enc8b10b0 (
    .clk(clk),
    .data_10bit_in(data_10bit_in),
    .data_in_rdy(data_in_rdy),
    .rst(rst),
    .get_data_trig(get_data_trig),
    .data_2bit_out(data_2bit_out),
    .COMMAn(COMMAn),
    .COMMAp(COMMAp),
    .Kchar_comma(Kchar_comma),
    .Kchar_eop(Kchar_eop),
    .Kchar_sop(Kchar_sop)
    );

fifo_core_wrapperTMR fifo_core_wrap_tx (
    .Kchar_comma(Kchar_comma),
    .clk(clk),
    .din_fifo(fifo_din),
    .flush_fifo(fifo_flush),
    .rd_en(fifo_rd_en),
    .rst(rst),
    .wr_en(fifo_wr_en),
    .dout_fifo(data_10bit_in_fifo),
    .empty_fifo(efifo_empty),
    .full_fifo(efifo_full),
    .rdy_fifo(rdy_fifo)
    );
assign data_in_rdy =  (dbg_elink==1) ? rdy_dbg : rdy_fifo;
assign data_10bit_in =  (dbg_elink==1) ? data_10bit_in_dbg : data_10bit_in_fifo;
assign fifo_rd_en =  (dbg_elink==1) ? 1'b0 : get_data_trig;
endmodule

