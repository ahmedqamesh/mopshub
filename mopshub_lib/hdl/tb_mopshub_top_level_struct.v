//
// Module mopshub_lib.tb_mopshub_top_level.struct
//
// Created:
//          by - dcs.dcs (chipdev2.physik.uni-wuppertal.de)
//          at - 19:52:53 06/30/21
//
// Generated by Mentor Graphics' HDL Designer(TM) 2019.4 (Build 4)
//

`resetall
`timescale 1ns/10ps
module tb_mopshub_top_level #(
   // synopsys template
   parameter DATA_WIDTH = 76
)
( 
   // Port Declarations
   input   wire            clk, 
   output  wire    [4:0]   can_tra_select, 
   output  wire    [75:0]  data_rec_uplink, 
   output  wire            done, 
   output  wire            enable_cs, 
   output  wire            end_can_proc, 
   output  wire            irq_can_rec, 
   output  wire            irq_can_tra, 
   output  wire            priority_sig, 
   output  wire    [15:0]  read_can, 
   output  wire            send_mes_elink, 
   output  wire            start_write_elink, 
   output  wire            tx, 
   output  wire    [15:0]  write_can
);


// Internal Declarations


// Local declarations

// Internal signal declarations
wire                   buffer_en;
wire  [6:0]            can_nodeid;
reg   [4:0]            can_rec_select     = 0;
wire  [DATA_WIDTH-1:0] data_tra_uplink;
wire                   end_read_elink;
wire                   end_write_elink    = 0;
reg                    endwait            = 0;
wire                   irq_elink;
reg                    loop_en            = 0;
reg                    rst                = 0;
wire                   rx;
wire                   send_mes_can_done;
wire                   sign_on_sig;
wire                   start_read_elink;
wire                   txdec;
wire                   txgen;
wire                   txmops;


// Instances 
clock_signals U_2( 
   .clk (clk)
); 

data_generator #(76,5,12,5'h0B,5'h0C,5'b11111) DataGen( 
   .done             (done), 
   .rst              (rst), 
   .irq_elink        (irq_elink), 
   .payload          (data_tra_uplink), 
   .clk              (clk), 
   .end_read_elink   (end_read_elink), 
   .buffer_en        (buffer_en), 
   .txgen            (txgen), 
   .loop_en          (loop_en), 
   .sign_on_sig      (sign_on_sig), 
   .start_read_elink (start_read_elink), 
   .end_send_msg     (send_mes_can_done)
); 

mopshubCore #(5,5'b11111) mopshubTop( 
   .clk               (clk), 
   .rst               (rst), 
   .data_rec_uplink   (data_rec_uplink), 
   .data_tra_uplink   (data_tra_uplink), 
   .end_read_elink    (end_read_elink), 
   .end_write_elink   (end_write_elink), 
   .irq_elink         (irq_elink), 
   .start_read_elink  (start_read_elink), 
   .start_write_elink (start_write_elink), 
   .send_mes_elink    (send_mes_elink), 
   .sign_on_sig       (sign_on_sig), 
   .endwait           (endwait), 
   .buffer_en         (buffer_en), 
   .send_mes_can_done (send_mes_can_done), 
   .rx                (rx), 
   .tx                (txdec), 
   .can_tra_select    (can_tra_select), 
   .can_rec_select    (can_rec_select), 
   .end_can_proc      (end_can_proc), 
   .priority_sig      (priority_sig)
); 

// HDL Embedded Text Block 1 Initialization
// eb1 1 
initial 
begin
  //irq_can_tra = 0;
  #10 rst = !rst;
  loop_en= 0;
  //loop_en = !loop_en;
end                                       
// HDL Embedded Text Block 2 assigning
// eb1 2 
assign irq_can_tra = mopshubTop.irqsuctra;
assign irq_can_rec = mopshubTop.irqsucrec;
assign enable_cs   = mopshubTop.enable_cs;
assign write_can = mopshubTop.write_can;
assign read_can   = mopshubTop.read_can;
                                       
assign rx =  ~(rst ^ (txdec & txgen));
assign tx = txdec;
// HDL Embedded Text Block 3 assigning1
assign rx =  ~(rst ^ (txdec & txgen & !txmops));
assign txmops = 1'b0;
assign tx = txdec |txmops;















// HDL Embedded Text Block 4 mops_assign
assign can_nodeid = 7'b0000001;



endmodule // tb_mopshub_top_level

