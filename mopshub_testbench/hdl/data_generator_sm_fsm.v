//
// Module mopshub_testbench.data_generator_SM.fsm
//
// Created:
//          by - dcs.dcs (chipdev2.physik.uni-wuppertal.de)
//          at - 15:22:37 03/14/22
//
// Generated by Mentor Graphics' HDL Designer(TM) 2019.4 (Build 4)
//
`resetall
`timescale 1ns/10ps
module data_generator_SM( 
   // Port Declarations
   // Port Declarations
   // Port Declarations
   // Port Declarations
   // Port Declarations
   // Port Declarations
   // Port Declarations
   input   wire               clk,                       // write FIFO clk
   input   wire               rst,                       // should be used through VIO
   output  reg                irq_elink_tra,             //  ena signal
   output  reg        [2:0]   state_o, 
   input   wire               loop_en, 
   input   wire               start_read_elink, 
   output  reg                end_read_elink, 
   input   wire               txdec,                     // Axknowledgment of succesfully sent message
   input   wire               cnt_done, 
   output  reg                counter_gen_en, 
   output  reg                buffer_en, 
   output  integer            ch, 
   output  reg                custommsg,                 // To start a custom message
   output  reg        [63:0]  data,                      // Complete 8 bytes of data to be sent in a custom message
   output  reg                start,                     // To start Driver /generator
   output  reg                reqmsg,                    // Indicates a sent request to the testbench
   output  reg                respmsg,                   // Indicates a reponse from the MOPS chip 
   output  reg        [23:0]  indexsubindex,             // Value of index should be LSByte first 
   output  reg                read,                      // Prepare SDO read request
   output  reg        [31:0]  taildata,                  // Data which must be written to the chip 
   output  reg                write,                     // Prepare SDO write request
   output  reg                readadc,                   // indicates to read an ADC channel 
   output  reg        [10:0]  customcanid,               // ID to be sent in a custom message
   input   wire               osc_auto_trim,             // Indicates if Automated trim is en/disabled
   input   wire               test_rx, 
   output  reg                test_rx_start, 
   output  reg                test_rx_end, 
   output  reg                trim_sig_start, 
   input   wire               trim_response_done,        // Active high. When MOPS sends acknowledgement to a message.Trimming is done. 
   output  reg                trim_sig_end, 
   input   wire               start_data_gen,            // This dignal should start the SM and comes from TB
   input   wire               test_mopshub_core, 
   input   wire               sel_bus, 
   output  reg                test_elink_data_done,      // dbg
   output  reg                rst_cnt, 
   input   wire               rxdec, 
   output  reg                start_write_emulator, 
   input   wire               test_tx, 
   input   wire               end_write_emulator, 
   output  reg                test_tx_end, 
   output  reg                test_tx_start, 
   output  reg                rst_mops_dbg, 
   output  reg                trim_sig_done, 
   output  reg                costum_msg_start, 
   output  reg                costum_msg_end, 
   input   wire               tx_mopshub, 
   input   wire               rx_mopshub, 
   input   wire               test_advanced, 
   output  reg        [75:0]  rand_rec_in, 
   output  reg                start_write_emulator_spi, 
   input   wire               end_write_emulator_spi, 
   output  reg                test_simult
);


// Internal Declarations


// Module Declarations

// State encoding
parameter 
          ST_Reset          = 8'd0,
          ST_WAIT           = 8'd1,
          READ62            = 8'd2,
          ACK127            = 8'd3,
          ACK128            = 8'd4,
          REQMSGWAIT64      = 8'd5,
          RESPMSGWAIT63     = 8'd6,
          REQMSG64          = 8'd7,
          RESPMSG63         = 8'd8,
          READ63            = 8'd9,
          ACK129            = 8'd10,
          ACK130            = 8'd11,
          REQMSGWAIT65      = 8'd12,
          RESPMSGWAIT64     = 8'd13,
          REQMSG65          = 8'd14,
          RESPMSG64         = 8'd15,
          READ64            = 8'd16,
          ACK131            = 8'd17,
          ACK132            = 8'd18,
          REQMSGWAIT66      = 8'd19,
          RESPMSGWAIT65     = 8'd20,
          REQMSG66          = 8'd21,
          RESPMSG65         = 8'd22,
          READ65            = 8'd23,
          ACK133            = 8'd24,
          ACK134            = 8'd25,
          REQMSGWAIT67      = 8'd26,
          RESPMSGWAIT66     = 8'd27,
          REQMSG67          = 8'd28,
          RESPMSG66         = 8'd29,
          READ66            = 8'd30,
          ACK135            = 8'd31,
          ACK136            = 8'd32,
          REQMSGWAIT68      = 8'd33,
          RESPMSGWAIT67     = 8'd34,
          REQMSG68          = 8'd35,
          RESPMSG67         = 8'd36,
          READ67            = 8'd37,
          ACK137            = 8'd38,
          ACK138            = 8'd39,
          REQMSGWAIT69      = 8'd40,
          RESPMSGWAIT68     = 8'd41,
          REQMSG69          = 8'd42,
          RESPMSG68         = 8'd43,
          END_ADC           = 8'd44,
          TRIMORNOT         = 8'd45,
          SIGN_IN           = 8'd46,
          s4                = 8'd47,
          READ_SIGN_IN      = 8'd48,
          READ75            = 8'd49,
          ACK153            = 8'd50,
          REQMSGWAIT78      = 8'd51,
          REQMSG78          = 8'd52,
          RESPMSG77         = 8'd53,
          finishtrim        = 8'd54,
          ST_Start_Trim     = 8'd55,
          START_ADC         = 8'd56,
          ST_Done           = 8'd57,
          ST_Done_Wait      = 8'd58,
          ST_Loop_cnt       = 8'd59,
          ST_Loop_cnt1      = 8'd60,
          ST_counter_Wait   = 8'd61,
          ST_Rst_Cnt1       = 8'd62,
          ST_Rst_Cnt2       = 8'd63,
          ST_counter_Wait1  = 8'd64,
          ST_Done1          = 8'd65,
          ST_Loop_cnt2      = 8'd66,
          ST_Rst_Cnt3       = 8'd67,
          ST_counter_Wait2  = 8'd68,
          ST_Enable_Data3   = 8'd69,
          ST_Wait_Suc_Tra4  = 8'd70,
          REQMSG9           = 8'd71,
          ST_Wait_Suc_Rec4  = 8'd72,
          RESPMSG9          = 8'd73,
          RESPMSGWAIT75     = 8'd74,
          ST_Done_Wait4     = 8'd75,
          ST_Enable_Data4   = 8'd76,
          ST_Wait_Suc_Tra5  = 8'd77,
          REQMSG10          = 8'd78,
          ST_Wait_Suc_Rec5  = 8'd79,
          RESPMSG10         = 8'd80,
          RESPMSGWAIT76     = 8'd81,
          ST_Done_Wait5     = 8'd82,
          ST_test_tx_end    = 8'd83,
          ST_En_Buffer1     = 8'd84,
          ST_End_Read1      = 8'd85,
          REQMSG5           = 8'd86,
          RESPMSGWAIT85     = 8'd87,
          ST_Wait_Suc_Rec1  = 8'd88,
          RESPMSG5          = 8'd89,
          ST_Bus_cnt2       = 8'd90,
          ST_start_test     = 8'd91,
          ST_Enable_Data9   = 8'd92,
          ST_Wait_Suc_Tra10 = 8'd93,
          REQMSG15          = 8'd94,
          ST_Wait_Suc_Rec10 = 8'd95,
          RESPMSG15         = 8'd96,
          RESPMSGWAIT87     = 8'd97,
          ST_Done_Wait11    = 8'd98,
          ST_Enable_Data10  = 8'd99,
          ST_Wait_Suc_Tra11 = 8'd100,
          REQMSG16          = 8'd101,
          ST_Wait_Suc_Rec11 = 8'd102,
          RESPMSG16         = 8'd103,
          RESPMSGWAIT88     = 8'd104,
          ST_Done_Wait12    = 8'd105,
          ST_Enable_Data11  = 8'd106,
          ST_Wait_Suc_Tra12 = 8'd107,
          REQMSG17          = 8'd108,
          ST_Wait_Suc_Rec12 = 8'd109,
          RESPMSG17         = 8'd110,
          RESPMSGWAIT89     = 8'd111,
          ST_Done_Wait13    = 8'd112,
          ST_Enable_Data12  = 8'd113,
          ST_Wait_Suc_Tra13 = 8'd114,
          REQMSG18          = 8'd115,
          ST_Wait_Suc_Rec13 = 8'd116,
          RESPMSG18         = 8'd117,
          RESPMSGWAIT90     = 8'd118,
          ST_Done_Wait14    = 8'd119,
          ST_Rst_Cnt4       = 8'd120,
          ST_Loop_Cnt1      = 8'd121,
          s56               = 8'd122,
          END_SIGN_IN2      = 8'd123,
          END_SIGN_IN3      = 8'd124,
          ST_Wait_Suc_Tra14 = 8'd125,
          ST_Done_Wait15    = 8'd126,
          ST_En_Buffer2     = 8'd127,
          ST_End_Read2      = 8'd128,
          REQMSG19          = 8'd129,
          RESPMSGWAIT91     = 8'd130,
          ST_Wait_Suc_Rec14 = 8'd131,
          RESPMSG19         = 8'd132,
          ST_Bus_cnt3       = 8'd133,
          ST_start_test1    = 8'd134,
          ST_Wait_Suc_Tra15 = 8'd135,
          ST_Done_Wait16    = 8'd136,
          ST_En_Buffer3     = 8'd137,
          ST_End_Read3      = 8'd138,
          REQMSG20          = 8'd139,
          RESPMSGWAIT92     = 8'd140,
          ST_Wait_Suc_Rec15 = 8'd141,
          RESPMSG20         = 8'd142,
          ST_Bus_cnt4       = 8'd143,
          ST_start_test2    = 8'd144,
          ST_Wait_Suc_Tra16 = 8'd145,
          ST_Done_Wait17    = 8'd146,
          ST_En_Buffer4     = 8'd147,
          ST_End_Read4      = 8'd148,
          REQMSG21          = 8'd149,
          RESPMSGWAIT93     = 8'd150,
          ST_Wait_Suc_Rec16 = 8'd151,
          RESPMSG21         = 8'd152,
          ST_Bus_cnt5       = 8'd153,
          ST_start_test3    = 8'd154,
          ST_Wait_Suc_Tra17 = 8'd155,
          ST_Done_Wait18    = 8'd156,
          READ72            = 8'd157,
          ACK147            = 8'd158,
          ACK148            = 8'd159,
          RESPMSGWAIT78     = 8'd160,
          REQMSG74          = 8'd161,
          RESPMSG73         = 8'd162,
          Start1            = 8'd163,
          end_rand1         = 8'd164,
          _Wait3            = 8'd165,
          _Wait4            = 8'd166,
          READ73            = 8'd167,
          ACK149            = 8'd168,
          ACK150            = 8'd169,
          REQMSGWAIT75      = 8'd170,
          RESPMSGWAIT79     = 8'd171,
          REQMSG75          = 8'd172,
          RESPMSG74         = 8'd173,
          _Wait6            = 8'd174,
          ST_Enable_Data14  = 8'd175,
          ST_Wait_Suc_Tra19 = 8'd176,
          REQMSG23          = 8'd177,
          ST_Wait_Suc_Rec18 = 8'd178,
          RESPMSG23         = 8'd179,
          RESPMSGWAIT95     = 8'd180,
          ST_Done_Wait20    = 8'd181,
          _Wait7            = 8'd182,
          READ68            = 8'd183,
          READ69            = 8'd184,
          READ70            = 8'd185;

reg [7:0] current_state, next_state;

// Wait State Signals
reg [15:0] csm_timer;
reg [15:0] csm_next_timer;
reg        csm_timeout;
reg        csm_to_READ62;
reg        csm_to_ACK127;
reg        csm_to_ACK128;
reg        csm_to_REQMSGWAIT64;
reg        csm_to_RESPMSGWAIT63;
reg        csm_to_READ63;
reg        csm_to_ACK129;
reg        csm_to_ACK130;
reg        csm_to_REQMSGWAIT65;
reg        csm_to_RESPMSGWAIT64;
reg        csm_to_READ64;
reg        csm_to_ACK131;
reg        csm_to_ACK132;
reg        csm_to_REQMSGWAIT66;
reg        csm_to_RESPMSGWAIT65;
reg        csm_to_READ65;
reg        csm_to_ACK133;
reg        csm_to_ACK134;
reg        csm_to_REQMSGWAIT67;
reg        csm_to_RESPMSGWAIT66;
reg        csm_to_READ66;
reg        csm_to_ACK135;
reg        csm_to_ACK136;
reg        csm_to_REQMSGWAIT68;
reg        csm_to_RESPMSGWAIT67;
reg        csm_to_READ67;
reg        csm_to_ACK137;
reg        csm_to_ACK138;
reg        csm_to_REQMSGWAIT69;
reg        csm_to_RESPMSGWAIT68;
reg        csm_to_SIGN_IN;
reg        csm_to_s4;
reg        csm_to_READ75;
reg        csm_to_ACK153;
reg        csm_to_REQMSGWAIT78;
reg        csm_to_ST_Done_Wait;
reg        csm_to_ST_counter_Wait;
reg        csm_to_ST_counter_Wait1;
reg        csm_to_ST_Wait_Suc_Tra4;
reg        csm_to_ST_Wait_Suc_Rec4;
reg        csm_to_RESPMSGWAIT75;
reg        csm_to_ST_Done_Wait4;
reg        csm_to_ST_Wait_Suc_Tra5;
reg        csm_to_ST_Wait_Suc_Rec5;
reg        csm_to_RESPMSGWAIT76;
reg        csm_to_ST_Done_Wait5;
reg        csm_to_RESPMSGWAIT85;
reg        csm_to_ST_Wait_Suc_Rec1;
reg        csm_to_ST_Wait_Suc_Tra10;
reg        csm_to_ST_Wait_Suc_Rec10;
reg        csm_to_RESPMSGWAIT87;
reg        csm_to_ST_Done_Wait11;
reg        csm_to_ST_Wait_Suc_Tra11;
reg        csm_to_ST_Wait_Suc_Rec11;
reg        csm_to_RESPMSGWAIT88;
reg        csm_to_ST_Done_Wait12;
reg        csm_to_ST_Wait_Suc_Tra12;
reg        csm_to_ST_Wait_Suc_Rec12;
reg        csm_to_RESPMSGWAIT89;
reg        csm_to_ST_Done_Wait13;
reg        csm_to_ST_Wait_Suc_Tra13;
reg        csm_to_ST_Wait_Suc_Rec13;
reg        csm_to_RESPMSGWAIT90;
reg        csm_to_ST_Done_Wait14;
reg        csm_to_s56;
reg        csm_to_ST_Wait_Suc_Tra14;
reg        csm_to_ST_Done_Wait15;
reg        csm_to_RESPMSGWAIT91;
reg        csm_to_ST_Wait_Suc_Rec14;
reg        csm_to_ST_Wait_Suc_Tra15;
reg        csm_to_ST_Done_Wait16;
reg        csm_to_RESPMSGWAIT92;
reg        csm_to_ST_Wait_Suc_Rec15;
reg        csm_to_ST_Wait_Suc_Tra16;
reg        csm_to_ST_Done_Wait17;
reg        csm_to_RESPMSGWAIT93;
reg        csm_to_ST_Wait_Suc_Rec16;
reg        csm_to_ST_Wait_Suc_Tra17;
reg        csm_to_ST_Done_Wait18;
reg        csm_to_READ72;
reg        csm_to_ACK148;
reg        csm_to_RESPMSGWAIT78;
reg        csm_to__Wait3;
reg        csm_to__Wait4;
reg        csm_to_READ73;
reg        csm_to_ACK149;
reg        csm_to_ACK150;
reg        csm_to_REQMSGWAIT75;
reg        csm_to_RESPMSGWAIT79;
reg        csm_to__Wait6;
reg        csm_to_ST_Wait_Suc_Tra19;
reg        csm_to_ST_Wait_Suc_Rec18;
reg        csm_to_RESPMSGWAIT95;
reg        csm_to_ST_Done_Wait20;
reg        csm_to__Wait7;
reg        csm_to_READ68;
reg        csm_to_READ69;
reg        csm_to_READ70;

//-----------------------------------------------------------------
// Next State Block for machine csm
//-----------------------------------------------------------------
always @(
   cnt_done, 
   csm_timeout, 
   current_state, 
   end_write_emulator, 
   end_write_emulator_spi, 
   loop_en, 
   osc_auto_trim, 
   sel_bus, 
   start_data_gen, 
   start_read_elink, 
   test_advanced, 
   test_mopshub_core, 
   test_rx, 
   test_tx, 
   trim_response_done, 
   tx_mopshub, 
   txdec
)
begin : next_state_block_proc
   // Default assignments to Wait State entry flags
   csm_to_READ62 = 1'b0;
   csm_to_ACK127 = 1'b0;
   csm_to_ACK128 = 1'b0;
   csm_to_REQMSGWAIT64 = 1'b0;
   csm_to_RESPMSGWAIT63 = 1'b0;
   csm_to_READ63 = 1'b0;
   csm_to_ACK129 = 1'b0;
   csm_to_ACK130 = 1'b0;
   csm_to_REQMSGWAIT65 = 1'b0;
   csm_to_RESPMSGWAIT64 = 1'b0;
   csm_to_READ64 = 1'b0;
   csm_to_ACK131 = 1'b0;
   csm_to_ACK132 = 1'b0;
   csm_to_REQMSGWAIT66 = 1'b0;
   csm_to_RESPMSGWAIT65 = 1'b0;
   csm_to_READ65 = 1'b0;
   csm_to_ACK133 = 1'b0;
   csm_to_ACK134 = 1'b0;
   csm_to_REQMSGWAIT67 = 1'b0;
   csm_to_RESPMSGWAIT66 = 1'b0;
   csm_to_READ66 = 1'b0;
   csm_to_ACK135 = 1'b0;
   csm_to_ACK136 = 1'b0;
   csm_to_REQMSGWAIT68 = 1'b0;
   csm_to_RESPMSGWAIT67 = 1'b0;
   csm_to_READ67 = 1'b0;
   csm_to_ACK137 = 1'b0;
   csm_to_ACK138 = 1'b0;
   csm_to_REQMSGWAIT69 = 1'b0;
   csm_to_RESPMSGWAIT68 = 1'b0;
   csm_to_SIGN_IN = 1'b0;
   csm_to_s4 = 1'b0;
   csm_to_READ75 = 1'b0;
   csm_to_ACK153 = 1'b0;
   csm_to_REQMSGWAIT78 = 1'b0;
   csm_to_ST_Done_Wait = 1'b0;
   csm_to_ST_counter_Wait = 1'b0;
   csm_to_ST_counter_Wait1 = 1'b0;
   csm_to_ST_Wait_Suc_Tra4 = 1'b0;
   csm_to_ST_Wait_Suc_Rec4 = 1'b0;
   csm_to_RESPMSGWAIT75 = 1'b0;
   csm_to_ST_Done_Wait4 = 1'b0;
   csm_to_ST_Wait_Suc_Tra5 = 1'b0;
   csm_to_ST_Wait_Suc_Rec5 = 1'b0;
   csm_to_RESPMSGWAIT76 = 1'b0;
   csm_to_ST_Done_Wait5 = 1'b0;
   csm_to_RESPMSGWAIT85 = 1'b0;
   csm_to_ST_Wait_Suc_Rec1 = 1'b0;
   csm_to_ST_Wait_Suc_Tra10 = 1'b0;
   csm_to_ST_Wait_Suc_Rec10 = 1'b0;
   csm_to_RESPMSGWAIT87 = 1'b0;
   csm_to_ST_Done_Wait11 = 1'b0;
   csm_to_ST_Wait_Suc_Tra11 = 1'b0;
   csm_to_ST_Wait_Suc_Rec11 = 1'b0;
   csm_to_RESPMSGWAIT88 = 1'b0;
   csm_to_ST_Done_Wait12 = 1'b0;
   csm_to_ST_Wait_Suc_Tra12 = 1'b0;
   csm_to_ST_Wait_Suc_Rec12 = 1'b0;
   csm_to_RESPMSGWAIT89 = 1'b0;
   csm_to_ST_Done_Wait13 = 1'b0;
   csm_to_ST_Wait_Suc_Tra13 = 1'b0;
   csm_to_ST_Wait_Suc_Rec13 = 1'b0;
   csm_to_RESPMSGWAIT90 = 1'b0;
   csm_to_ST_Done_Wait14 = 1'b0;
   csm_to_s56 = 1'b0;
   csm_to_ST_Wait_Suc_Tra14 = 1'b0;
   csm_to_ST_Done_Wait15 = 1'b0;
   csm_to_RESPMSGWAIT91 = 1'b0;
   csm_to_ST_Wait_Suc_Rec14 = 1'b0;
   csm_to_ST_Wait_Suc_Tra15 = 1'b0;
   csm_to_ST_Done_Wait16 = 1'b0;
   csm_to_RESPMSGWAIT92 = 1'b0;
   csm_to_ST_Wait_Suc_Rec15 = 1'b0;
   csm_to_ST_Wait_Suc_Tra16 = 1'b0;
   csm_to_ST_Done_Wait17 = 1'b0;
   csm_to_RESPMSGWAIT93 = 1'b0;
   csm_to_ST_Wait_Suc_Rec16 = 1'b0;
   csm_to_ST_Wait_Suc_Tra17 = 1'b0;
   csm_to_ST_Done_Wait18 = 1'b0;
   csm_to_READ72 = 1'b0;
   csm_to_ACK148 = 1'b0;
   csm_to_RESPMSGWAIT78 = 1'b0;
   csm_to__Wait3 = 1'b0;
   csm_to__Wait4 = 1'b0;
   csm_to_READ73 = 1'b0;
   csm_to_ACK149 = 1'b0;
   csm_to_ACK150 = 1'b0;
   csm_to_REQMSGWAIT75 = 1'b0;
   csm_to_RESPMSGWAIT79 = 1'b0;
   csm_to__Wait6 = 1'b0;
   csm_to_ST_Wait_Suc_Tra19 = 1'b0;
   csm_to_ST_Wait_Suc_Rec18 = 1'b0;
   csm_to_RESPMSGWAIT95 = 1'b0;
   csm_to_ST_Done_Wait20 = 1'b0;
   csm_to__Wait7 = 1'b0;
   csm_to_READ68 = 1'b0;
   csm_to_READ69 = 1'b0;
   csm_to_READ70 = 1'b0;
   case (current_state) 
      ST_Reset: begin
         if (start_data_gen == 1)
            next_state = TRIMORNOT;
         else
            next_state = ST_Reset;
      end
      ST_WAIT: begin
         if (test_rx ==1) begin
            next_state = _Wait3;
            csm_to__Wait3 = 1'b1;
         end
         else if (test_tx ==1)
            next_state = ST_test_tx_end;
         else if (test_mopshub_core ==1)
            next_state = ST_start_test;
         else if (loop_en == 1)
            next_state = ST_Reset;
         else if (test_advanced ==1) begin
            next_state = _Wait6;
            csm_to__Wait6 = 1'b1;
         end
         else
            next_state = ST_WAIT;
      end
      READ62: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = REQMSGWAIT64;
            csm_to_REQMSGWAIT64 = 1'b1;
         end
         else
            next_state = READ62;
      end
      ACK127: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = RESPMSGWAIT63;
            csm_to_RESPMSGWAIT63 = 1'b1;
         end
         else
            next_state = ACK127;
      end
      ACK128: begin
         if (csm_timeout) begin
            next_state = READ63;
            csm_to_READ63 = 1'b1;
         end
         else
            next_state = ACK128;
      end
      REQMSGWAIT64: begin
         if (csm_timeout)
            next_state = REQMSG64;
         else
            next_state = REQMSGWAIT64;
      end
      RESPMSGWAIT63: begin
         if (csm_timeout)
            next_state = RESPMSG63;
         else
            next_state = RESPMSGWAIT63;
      end
      REQMSG64: begin
         next_state = ACK127;
         csm_to_ACK127 = 1'b1;
      end
      RESPMSG63: begin
         next_state = ACK128;
         csm_to_ACK128 = 1'b1;
      end
      READ63: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = REQMSGWAIT65;
            csm_to_REQMSGWAIT65 = 1'b1;
         end
         else
            next_state = READ63;
      end
      ACK129: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = RESPMSGWAIT64;
            csm_to_RESPMSGWAIT64 = 1'b1;
         end
         else
            next_state = ACK129;
      end
      ACK130: begin
         if (csm_timeout) begin
            next_state = READ64;
            csm_to_READ64 = 1'b1;
         end
         else
            next_state = ACK130;
      end
      REQMSGWAIT65: begin
         if (csm_timeout)
            next_state = REQMSG65;
         else
            next_state = REQMSGWAIT65;
      end
      RESPMSGWAIT64: begin
         if (csm_timeout)
            next_state = RESPMSG64;
         else
            next_state = RESPMSGWAIT64;
      end
      REQMSG65: begin
         next_state = ACK129;
         csm_to_ACK129 = 1'b1;
      end
      RESPMSG64: begin
         next_state = ACK130;
         csm_to_ACK130 = 1'b1;
      end
      READ64: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = REQMSGWAIT66;
            csm_to_REQMSGWAIT66 = 1'b1;
         end
         else
            next_state = READ64;
      end
      ACK131: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = RESPMSGWAIT65;
            csm_to_RESPMSGWAIT65 = 1'b1;
         end
         else
            next_state = ACK131;
      end
      ACK132: begin
         if (csm_timeout) begin
            next_state = READ65;
            csm_to_READ65 = 1'b1;
         end
         else
            next_state = ACK132;
      end
      REQMSGWAIT66: begin
         if (csm_timeout)
            next_state = REQMSG66;
         else
            next_state = REQMSGWAIT66;
      end
      RESPMSGWAIT65: begin
         if (csm_timeout)
            next_state = RESPMSG65;
         else
            next_state = RESPMSGWAIT65;
      end
      REQMSG66: begin
         next_state = ACK131;
         csm_to_ACK131 = 1'b1;
      end
      RESPMSG65: begin
         next_state = ACK132;
         csm_to_ACK132 = 1'b1;
      end
      READ65: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = REQMSGWAIT67;
            csm_to_REQMSGWAIT67 = 1'b1;
         end
         else
            next_state = READ65;
      end
      ACK133: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = RESPMSGWAIT66;
            csm_to_RESPMSGWAIT66 = 1'b1;
         end
         else
            next_state = ACK133;
      end
      ACK134: begin
         if (csm_timeout) begin
            next_state = READ66;
            csm_to_READ66 = 1'b1;
         end
         else
            next_state = ACK134;
      end
      REQMSGWAIT67: begin
         if (csm_timeout)
            next_state = REQMSG67;
         else
            next_state = REQMSGWAIT67;
      end
      RESPMSGWAIT66: begin
         if (csm_timeout)
            next_state = RESPMSG66;
         else
            next_state = RESPMSGWAIT66;
      end
      REQMSG67: begin
         next_state = ACK133;
         csm_to_ACK133 = 1'b1;
      end
      RESPMSG66: begin
         next_state = ACK134;
         csm_to_ACK134 = 1'b1;
      end
      READ66: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = REQMSGWAIT68;
            csm_to_REQMSGWAIT68 = 1'b1;
         end
         else
            next_state = READ66;
      end
      ACK135: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = RESPMSGWAIT67;
            csm_to_RESPMSGWAIT67 = 1'b1;
         end
         else
            next_state = ACK135;
      end
      ACK136: begin
         if (csm_timeout) begin
            next_state = READ67;
            csm_to_READ67 = 1'b1;
         end
         else
            next_state = ACK136;
      end
      REQMSGWAIT68: begin
         if (csm_timeout)
            next_state = REQMSG68;
         else
            next_state = REQMSGWAIT68;
      end
      RESPMSGWAIT67: begin
         if (csm_timeout)
            next_state = RESPMSG67;
         else
            next_state = RESPMSGWAIT67;
      end
      REQMSG68: begin
         next_state = ACK135;
         csm_to_ACK135 = 1'b1;
      end
      RESPMSG67: begin
         next_state = ACK136;
         csm_to_ACK136 = 1'b1;
      end
      READ67: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = REQMSGWAIT69;
            csm_to_REQMSGWAIT69 = 1'b1;
         end
         else
            next_state = READ67;
      end
      ACK137: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = RESPMSGWAIT68;
            csm_to_RESPMSGWAIT68 = 1'b1;
         end
         else
            next_state = ACK137;
      end
      ACK138: begin
         if ((csm_timeout) && (sel_bus ==1 || cnt_done ==1))
            next_state = ST_Rst_Cnt1;
         else if (csm_timeout)
            next_state = ST_Loop_cnt1;
         else
            next_state = ACK138;
      end
      REQMSGWAIT69: begin
         if (csm_timeout)
            next_state = REQMSG69;
         else
            next_state = REQMSGWAIT69;
      end
      RESPMSGWAIT68: begin
         if (csm_timeout)
            next_state = RESPMSG68;
         else
            next_state = RESPMSGWAIT68;
      end
      REQMSG69: begin
         next_state = ACK137;
         csm_to_ACK137 = 1'b1;
      end
      RESPMSG68: begin
         next_state = ACK138;
         csm_to_ACK138 = 1'b1;
      end
      END_ADC: begin
         next_state = ST_WAIT;
      end
      TRIMORNOT: begin
         if (osc_auto_trim == 1)
            next_state = ST_Start_Trim;
         else
            next_state = READ_SIGN_IN;
      end
      SIGN_IN: begin
         if (csm_timeout)
            next_state = READ_SIGN_IN;
         else
            next_state = SIGN_IN;
      end
      s4: begin
         if (csm_timeout) begin
            next_state = SIGN_IN;
            csm_to_SIGN_IN = 1'b1;
         end
         else
            next_state = s4;
      end
      READ_SIGN_IN: begin
         next_state = END_SIGN_IN2;
      end
      READ75: begin
         if (trim_response_done == 1)
            next_state = finishtrim;
         else if (tx_mopshub == 0) begin
            next_state = REQMSGWAIT78;
            csm_to_REQMSGWAIT78 = 1'b1;
         end
         else
            next_state = READ75;
      end
      ACK153: begin
         next_state = RESPMSG77;
      end
      REQMSGWAIT78: begin
         if (csm_timeout)
            next_state = REQMSG78;
         else
            next_state = REQMSGWAIT78;
      end
      REQMSG78: begin
         next_state = ACK153;
         csm_to_ACK153 = 1'b1;
      end
      RESPMSG77: begin
         next_state = READ75;
         csm_to_READ75 = 1'b1;
      end
      finishtrim: begin
         next_state = s4;
         csm_to_s4 = 1'b1;
      end
      ST_Start_Trim: begin
         next_state = READ75;
         csm_to_READ75 = 1'b1;
      end
      START_ADC: begin
         if (sel_bus ==1) begin
            next_state = READ62;
            csm_to_READ62 = 1'b1;
         end
         else begin
            next_state = READ65;
            csm_to_READ65 = 1'b1;
         end
      end
      ST_Done: begin
         next_state = ST_WAIT;
      end
      ST_Done_Wait: begin
         if (sel_bus ==1 || cnt_done ==1)
            next_state = ST_Rst_Cnt2;
         else
            next_state = ST_Loop_cnt;
      end
      ST_Loop_cnt: begin
         next_state = ST_counter_Wait1;
         csm_to_ST_counter_Wait1 = 1'b1;
      end
      ST_Loop_cnt1: begin
         next_state = ST_counter_Wait;
         csm_to_ST_counter_Wait = 1'b1;
      end
      ST_counter_Wait: begin
         if (csm_timeout)
            next_state = START_ADC;
         else
            next_state = ST_counter_Wait;
      end
      ST_Rst_Cnt1: begin
         next_state = END_ADC;
      end
      ST_Rst_Cnt2: begin
         next_state = ST_Done;
      end
      ST_counter_Wait1: begin
         if (csm_timeout)
            next_state = ST_start_test;
         else
            next_state = ST_counter_Wait1;
      end
      ST_Done1: begin
         next_state = ST_WAIT;
      end
      ST_Loop_cnt2: begin
         next_state = ST_counter_Wait2;
      end
      ST_Rst_Cnt3: begin
         next_state = ST_Done1;
      end
      ST_counter_Wait2: begin
         next_state = ST_test_tx_end;
      end
      ST_Enable_Data3: begin
         if (end_write_emulator ==1) begin
            next_state = ST_Wait_Suc_Tra4;
            csm_to_ST_Wait_Suc_Tra4 = 1'b1;
         end
         else
            next_state = ST_Enable_Data3;
      end
      ST_Wait_Suc_Tra4: begin
         if (csm_timeout)
            next_state = REQMSG9;
         else
            next_state = ST_Wait_Suc_Tra4;
      end
      REQMSG9: begin
         next_state = ST_Wait_Suc_Rec4;
         csm_to_ST_Wait_Suc_Rec4 = 1'b1;
      end
      ST_Wait_Suc_Rec4: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = RESPMSGWAIT75;
            csm_to_RESPMSGWAIT75 = 1'b1;
         end
         else
            next_state = ST_Wait_Suc_Rec4;
      end
      RESPMSG9: begin
         next_state = ST_Done_Wait4;
         csm_to_ST_Done_Wait4 = 1'b1;
      end
      RESPMSGWAIT75: begin
         if (csm_timeout)
            next_state = RESPMSG9;
         else
            next_state = RESPMSGWAIT75;
      end
      ST_Done_Wait4: begin
         next_state = ST_Enable_Data4;
      end
      ST_Enable_Data4: begin
         if (end_write_emulator ==1) begin
            next_state = ST_Wait_Suc_Tra5;
            csm_to_ST_Wait_Suc_Tra5 = 1'b1;
         end
         else
            next_state = ST_Enable_Data4;
      end
      ST_Wait_Suc_Tra5: begin
         if (csm_timeout)
            next_state = REQMSG10;
         else
            next_state = ST_Wait_Suc_Tra5;
      end
      REQMSG10: begin
         next_state = ST_Wait_Suc_Rec5;
         csm_to_ST_Wait_Suc_Rec5 = 1'b1;
      end
      ST_Wait_Suc_Rec5: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = RESPMSGWAIT76;
            csm_to_RESPMSGWAIT76 = 1'b1;
         end
         else
            next_state = ST_Wait_Suc_Rec5;
      end
      RESPMSG10: begin
         next_state = ST_Done_Wait5;
         csm_to_ST_Done_Wait5 = 1'b1;
      end
      RESPMSGWAIT76: begin
         if (csm_timeout)
            next_state = RESPMSG10;
         else
            next_state = RESPMSGWAIT76;
      end
      ST_Done_Wait5: begin
         next_state = ST_Enable_Data12;
      end
      ST_test_tx_end: begin
         if (sel_bus == 1'b1)
            next_state = ST_Enable_Data3;
         else
            next_state = ST_Enable_Data11;
      end
      ST_En_Buffer1: begin
         next_state = ST_End_Read1;
      end
      ST_End_Read1: begin
         next_state = ST_Wait_Suc_Tra14;
         csm_to_ST_Wait_Suc_Tra14 = 1'b1;
      end
      REQMSG5: begin
         next_state = ST_Wait_Suc_Rec1;
         csm_to_ST_Wait_Suc_Rec1 = 1'b1;
      end
      RESPMSGWAIT85: begin
         if (csm_timeout)
            next_state = RESPMSG5;
         else
            next_state = RESPMSGWAIT85;
      end
      ST_Wait_Suc_Rec1: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = RESPMSGWAIT85;
            csm_to_RESPMSGWAIT85 = 1'b1;
         end
         else
            next_state = ST_Wait_Suc_Rec1;
      end
      RESPMSG5: begin
         next_state = ST_Done_Wait15;
         csm_to_ST_Done_Wait15 = 1'b1;
      end
      ST_Bus_cnt2: begin
         next_state = ST_En_Buffer1;
      end
      ST_start_test: begin
         if (start_read_elink ==1)
            next_state = ST_Bus_cnt2;
         else
            next_state = ST_start_test;
      end
      ST_Enable_Data9: begin
         if (end_write_emulator ==1) begin
            next_state = ST_Wait_Suc_Tra10;
            csm_to_ST_Wait_Suc_Tra10 = 1'b1;
         end
         else
            next_state = ST_Enable_Data9;
      end
      ST_Wait_Suc_Tra10: begin
         if (csm_timeout)
            next_state = REQMSG15;
         else
            next_state = ST_Wait_Suc_Tra10;
      end
      REQMSG15: begin
         next_state = ST_Wait_Suc_Rec10;
         csm_to_ST_Wait_Suc_Rec10 = 1'b1;
      end
      ST_Wait_Suc_Rec10: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = RESPMSGWAIT87;
            csm_to_RESPMSGWAIT87 = 1'b1;
         end
         else
            next_state = ST_Wait_Suc_Rec10;
      end
      RESPMSG15: begin
         next_state = ST_Done_Wait11;
         csm_to_ST_Done_Wait11 = 1'b1;
      end
      RESPMSGWAIT87: begin
         if (csm_timeout)
            next_state = RESPMSG15;
         else
            next_state = RESPMSGWAIT87;
      end
      ST_Done_Wait11: begin
         if (sel_bus ==1 || cnt_done ==1)
            next_state = ST_Rst_Cnt3;
         else
            next_state = ST_Loop_cnt2;
      end
      ST_Enable_Data10: begin
         if (end_write_emulator ==1) begin
            next_state = ST_Wait_Suc_Tra11;
            csm_to_ST_Wait_Suc_Tra11 = 1'b1;
         end
         else
            next_state = ST_Enable_Data10;
      end
      ST_Wait_Suc_Tra11: begin
         if (csm_timeout)
            next_state = REQMSG16;
         else
            next_state = ST_Wait_Suc_Tra11;
      end
      REQMSG16: begin
         next_state = ST_Wait_Suc_Rec11;
         csm_to_ST_Wait_Suc_Rec11 = 1'b1;
      end
      ST_Wait_Suc_Rec11: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = RESPMSGWAIT88;
            csm_to_RESPMSGWAIT88 = 1'b1;
         end
         else
            next_state = ST_Wait_Suc_Rec11;
      end
      RESPMSG16: begin
         next_state = ST_Done_Wait12;
         csm_to_ST_Done_Wait12 = 1'b1;
      end
      RESPMSGWAIT88: begin
         if (csm_timeout)
            next_state = RESPMSG16;
         else
            next_state = RESPMSGWAIT88;
      end
      ST_Done_Wait12: begin
         next_state = ST_Enable_Data9;
      end
      ST_Enable_Data11: begin
         if (end_write_emulator ==1) begin
            next_state = ST_Wait_Suc_Tra12;
            csm_to_ST_Wait_Suc_Tra12 = 1'b1;
         end
         else
            next_state = ST_Enable_Data11;
      end
      ST_Wait_Suc_Tra12: begin
         if (csm_timeout)
            next_state = REQMSG17;
         else
            next_state = ST_Wait_Suc_Tra12;
      end
      REQMSG17: begin
         next_state = ST_Wait_Suc_Rec12;
         csm_to_ST_Wait_Suc_Rec12 = 1'b1;
      end
      ST_Wait_Suc_Rec12: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = RESPMSGWAIT89;
            csm_to_RESPMSGWAIT89 = 1'b1;
         end
         else
            next_state = ST_Wait_Suc_Rec12;
      end
      RESPMSG17: begin
         next_state = ST_Done_Wait13;
         csm_to_ST_Done_Wait13 = 1'b1;
      end
      RESPMSGWAIT89: begin
         if (csm_timeout)
            next_state = RESPMSG17;
         else
            next_state = RESPMSGWAIT89;
      end
      ST_Done_Wait13: begin
         next_state = ST_Enable_Data10;
      end
      ST_Enable_Data12: begin
         if (end_write_emulator ==1) begin
            next_state = ST_Wait_Suc_Tra13;
            csm_to_ST_Wait_Suc_Tra13 = 1'b1;
         end
         else
            next_state = ST_Enable_Data12;
      end
      ST_Wait_Suc_Tra13: begin
         if (csm_timeout)
            next_state = REQMSG18;
         else
            next_state = ST_Wait_Suc_Tra13;
      end
      REQMSG18: begin
         next_state = ST_Wait_Suc_Rec13;
         csm_to_ST_Wait_Suc_Rec13 = 1'b1;
      end
      ST_Wait_Suc_Rec13: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = RESPMSGWAIT90;
            csm_to_RESPMSGWAIT90 = 1'b1;
         end
         else
            next_state = ST_Wait_Suc_Rec13;
      end
      RESPMSG18: begin
         next_state = ST_Done_Wait14;
         csm_to_ST_Done_Wait14 = 1'b1;
      end
      RESPMSGWAIT90: begin
         if (csm_timeout)
            next_state = RESPMSG18;
         else
            next_state = RESPMSGWAIT90;
      end
      ST_Done_Wait14: begin
         next_state = ST_Enable_Data11;
      end
      ST_Rst_Cnt4: begin
         next_state = END_SIGN_IN3;
      end
      ST_Loop_Cnt1: begin
         next_state = s56;
         csm_to_s56 = 1'b1;
      end
      s56: begin
         if (csm_timeout)
            next_state = ST_Start_Trim;
         else
            next_state = s56;
      end
      END_SIGN_IN2: begin
         if (sel_bus ==1 || cnt_done ==1)
            next_state = ST_Rst_Cnt4;
         else if (osc_auto_trim == 1)
            next_state = ST_Loop_Cnt1;
         else
            next_state = END_SIGN_IN3;
      end
      END_SIGN_IN3: begin
         next_state = ST_WAIT;
      end
      ST_Wait_Suc_Tra14: begin
         if (csm_timeout)
            next_state = REQMSG5;
         else
            next_state = ST_Wait_Suc_Tra14;
      end
      ST_Done_Wait15: begin
         next_state = ST_start_test1;
      end
      ST_En_Buffer2: begin
         next_state = ST_End_Read2;
      end
      ST_End_Read2: begin
         next_state = ST_Wait_Suc_Tra15;
         csm_to_ST_Wait_Suc_Tra15 = 1'b1;
      end
      REQMSG19: begin
         next_state = ST_Wait_Suc_Rec14;
         csm_to_ST_Wait_Suc_Rec14 = 1'b1;
      end
      RESPMSGWAIT91: begin
         if (csm_timeout)
            next_state = RESPMSG19;
         else
            next_state = RESPMSGWAIT91;
      end
      ST_Wait_Suc_Rec14: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = RESPMSGWAIT91;
            csm_to_RESPMSGWAIT91 = 1'b1;
         end
         else
            next_state = ST_Wait_Suc_Rec14;
      end
      RESPMSG19: begin
         next_state = ST_Done_Wait16;
         csm_to_ST_Done_Wait16 = 1'b1;
      end
      ST_Bus_cnt3: begin
         next_state = ST_En_Buffer2;
      end
      ST_start_test1: begin
         if (start_read_elink ==1)
            next_state = ST_Bus_cnt3;
         else
            next_state = ST_start_test1;
      end
      ST_Wait_Suc_Tra15: begin
         if (csm_timeout)
            next_state = REQMSG19;
         else
            next_state = ST_Wait_Suc_Tra15;
      end
      ST_Done_Wait16: begin
         next_state = ST_start_test2;
      end
      ST_En_Buffer3: begin
         next_state = ST_End_Read3;
      end
      ST_End_Read3: begin
         next_state = ST_Wait_Suc_Tra16;
         csm_to_ST_Wait_Suc_Tra16 = 1'b1;
      end
      REQMSG20: begin
         next_state = ST_Wait_Suc_Rec15;
         csm_to_ST_Wait_Suc_Rec15 = 1'b1;
      end
      RESPMSGWAIT92: begin
         if (csm_timeout)
            next_state = RESPMSG20;
         else
            next_state = RESPMSGWAIT92;
      end
      ST_Wait_Suc_Rec15: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = RESPMSGWAIT92;
            csm_to_RESPMSGWAIT92 = 1'b1;
         end
         else
            next_state = ST_Wait_Suc_Rec15;
      end
      RESPMSG20: begin
         next_state = ST_Done_Wait17;
         csm_to_ST_Done_Wait17 = 1'b1;
      end
      ST_Bus_cnt4: begin
         next_state = ST_En_Buffer3;
      end
      ST_start_test2: begin
         if (start_read_elink ==1)
            next_state = ST_Bus_cnt4;
         else
            next_state = ST_start_test2;
      end
      ST_Wait_Suc_Tra16: begin
         if (csm_timeout)
            next_state = REQMSG20;
         else
            next_state = ST_Wait_Suc_Tra16;
      end
      ST_Done_Wait17: begin
         next_state = ST_start_test3;
      end
      ST_En_Buffer4: begin
         next_state = ST_End_Read4;
      end
      ST_End_Read4: begin
         next_state = ST_Wait_Suc_Tra17;
         csm_to_ST_Wait_Suc_Tra17 = 1'b1;
      end
      REQMSG21: begin
         next_state = ST_Wait_Suc_Rec16;
         csm_to_ST_Wait_Suc_Rec16 = 1'b1;
      end
      RESPMSGWAIT93: begin
         if (csm_timeout)
            next_state = RESPMSG21;
         else
            next_state = RESPMSGWAIT93;
      end
      ST_Wait_Suc_Rec16: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = RESPMSGWAIT93;
            csm_to_RESPMSGWAIT93 = 1'b1;
         end
         else
            next_state = ST_Wait_Suc_Rec16;
      end
      RESPMSG21: begin
         next_state = ST_Done_Wait18;
         csm_to_ST_Done_Wait18 = 1'b1;
      end
      ST_Bus_cnt5: begin
         next_state = ST_En_Buffer4;
      end
      ST_start_test3: begin
         if (start_read_elink ==1)
            next_state = ST_Bus_cnt5;
         else
            next_state = ST_start_test3;
      end
      ST_Wait_Suc_Tra17: begin
         if (csm_timeout)
            next_state = REQMSG21;
         else
            next_state = ST_Wait_Suc_Tra17;
      end
      ST_Done_Wait18: begin
         next_state = ST_Done_Wait;
         csm_to_ST_Done_Wait = 1'b1;
      end
      READ72: begin
         if (csm_timeout && (tx_mopshub == 0))
            next_state = REQMSG74;
         else
            next_state = READ72;
      end
      ACK147: begin
         if (txdec == 0) begin
            next_state = RESPMSGWAIT78;
            csm_to_RESPMSGWAIT78 = 1'b1;
         end
         else
            next_state = ACK147;
      end
      ACK148: begin
         if (csm_timeout) begin
            next_state = _Wait7;
            csm_to__Wait7 = 1'b1;
         end
         else
            next_state = ACK148;
      end
      RESPMSGWAIT78: begin
         if (csm_timeout)
            next_state = RESPMSG73;
         else
            next_state = RESPMSGWAIT78;
      end
      REQMSG74: begin
         next_state = ACK147;
      end
      RESPMSG73: begin
         next_state = ACK148;
         csm_to_ACK148 = 1'b1;
      end
      Start1: begin
         next_state = READ70;
         csm_to_READ70 = 1'b1;
      end
      end_rand1: begin
         next_state = ST_WAIT;
      end
      _Wait3: begin
         if (csm_timeout)
            next_state = START_ADC;
         else
            next_state = _Wait3;
      end
      _Wait4: begin
         if (csm_timeout) begin
            next_state = READ72;
            csm_to_READ72 = 1'b1;
         end
         else
            next_state = _Wait4;
      end
      READ73: begin
         if (csm_timeout) begin
            next_state = REQMSGWAIT75;
            csm_to_REQMSGWAIT75 = 1'b1;
         end
         else
            next_state = READ73;
      end
      ACK149: begin
         if (csm_timeout) begin
            next_state = RESPMSGWAIT79;
            csm_to_RESPMSGWAIT79 = 1'b1;
         end
         else
            next_state = ACK149;
      end
      ACK150: begin
         if (csm_timeout)
            next_state = Start1;
         else
            next_state = ACK150;
      end
      REQMSGWAIT75: begin
         if (csm_timeout)
            next_state = REQMSG75;
         else
            next_state = REQMSGWAIT75;
      end
      RESPMSGWAIT79: begin
         if (csm_timeout)
            next_state = RESPMSG74;
         else
            next_state = RESPMSGWAIT79;
      end
      REQMSG75: begin
         next_state = ACK149;
         csm_to_ACK149 = 1'b1;
      end
      RESPMSG74: begin
         next_state = ACK150;
         csm_to_ACK150 = 1'b1;
      end
      _Wait6: begin
         if (csm_timeout) begin
            next_state = READ73;
            csm_to_READ73 = 1'b1;
         end
         else
            next_state = _Wait6;
      end
      ST_Enable_Data14: begin
         if (end_write_emulator_spi ==1) begin
            next_state = ST_Wait_Suc_Tra19;
            csm_to_ST_Wait_Suc_Tra19 = 1'b1;
         end
         else
            next_state = ST_Enable_Data14;
      end
      ST_Wait_Suc_Tra19: begin
         if (csm_timeout)
            next_state = REQMSG23;
         else
            next_state = ST_Wait_Suc_Tra19;
      end
      REQMSG23: begin
         next_state = ST_Wait_Suc_Rec18;
         csm_to_ST_Wait_Suc_Rec18 = 1'b1;
      end
      ST_Wait_Suc_Rec18: begin
         if (csm_timeout) begin
            next_state = RESPMSGWAIT95;
            csm_to_RESPMSGWAIT95 = 1'b1;
         end
         else
            next_state = ST_Wait_Suc_Rec18;
      end
      RESPMSG23: begin
         next_state = ST_Done_Wait20;
         csm_to_ST_Done_Wait20 = 1'b1;
      end
      RESPMSGWAIT95: begin
         if (csm_timeout)
            next_state = RESPMSG23;
         else
            next_state = RESPMSGWAIT95;
      end
      ST_Done_Wait20: begin
         next_state = end_rand1;
      end
      _Wait7: begin
         if (csm_timeout)
            next_state = ST_Enable_Data14;
         else
            next_state = _Wait7;
      end
      READ68: begin
         if (csm_timeout && (tx_mopshub == 0)) begin
            next_state = READ69;
            csm_to_READ69 = 1'b1;
         end
         else
            next_state = READ68;
      end
      READ69: begin
         if (csm_timeout) begin
            next_state = _Wait4;
            csm_to__Wait4 = 1'b1;
         end
         else
            next_state = READ69;
      end
      READ70: begin
         if (csm_timeout) begin
            next_state = READ68;
            csm_to_READ68 = 1'b1;
         end
         else
            next_state = READ70;
      end
      default: 
         next_state = ST_Reset;
   endcase
end // Next State Block

//-----------------------------------------------------------------
// Output Block for machine csm
//-----------------------------------------------------------------
always @(
   current_state
)
begin : output_block_proc
   // Default Assignment
   irq_elink_tra = 0;
   state_o = 0;
   end_read_elink = 0;
   counter_gen_en = 0;
   buffer_en = 0;
   ch = 0;
   custommsg = 0;
   data = 0;
   start = 0;
   reqmsg = 0;
   respmsg = 0;
   indexsubindex = 0;
   read = 0;
   taildata = 0;
   write = 0;
   readadc = 0;
   customcanid = 0;
   test_rx_start = 0;
   test_rx_end = 0;
   trim_sig_start = 0;
   trim_sig_end = 0;
   test_elink_data_done = 0;
   rst_cnt = 0;
   start_write_emulator = 0;
   test_tx_end = 0;
   test_tx_start = 0;
   rst_mops_dbg = 0;
   trim_sig_done = 0;
   costum_msg_start = 0;
   costum_msg_end = 0;
   rand_rec_in = 76'b0;
   start_write_emulator_spi = 1'b0;
   test_simult = 1'b0;

   // Combined Actions
   case (current_state) 
      ST_Reset: begin
         state_o     = 3'b000;
         test_elink_data_done = 0;
         irq_elink_tra = 0;
         counter_gen_en = 0;
         buffer_en = 0;
         end_read_elink = 0;
         test_rx_start = 0;
         rst_cnt =0;
      end
      READ62: begin
         start = 1;
         readadc = 1 ;
         ch = 26 ;
      end
      REQMSG64: begin
         reqmsg = 1 ;
      end
      RESPMSG63: begin
         respmsg = 1 ;
      end
      READ63: begin
         start = 1;
         readadc = 1 ;
         ch = 27 ;
      end
      REQMSG65: begin
         reqmsg = 1 ;
      end
      RESPMSG64: begin
         respmsg = 1 ;
      end
      READ64: begin
         start = 1;
         readadc = 1 ;
         ch = 28 ;
      end
      REQMSG66: begin
         reqmsg = 1 ;
      end
      RESPMSG65: begin
         respmsg = 1 ;
      end
      READ65: begin
         start = 1;
         readadc = 1 ;
         ch = 29 ;
      end
      REQMSG67: begin
         reqmsg = 1 ;
      end
      RESPMSG66: begin
         respmsg = 1 ;
      end
      READ66: begin
         start = 1;
         readadc = 1 ;
         ch = 30 ;
      end
      REQMSG68: begin
         reqmsg = 1 ;
      end
      RESPMSG67: begin
         respmsg = 1 ;
      end
      READ67: begin
         start = 1;
         readadc = 1 ;
         ch = 31 ;
      end
      REQMSG69: begin
         reqmsg = 1 ;
      end
      RESPMSG68: begin
         respmsg = 1 ;
      end
      END_ADC: begin
         test_rx_end = 1;
      end
      READ75: begin
         start = 1;
         custommsg = 1;
         customcanid = 11'h555;
         data = 64'hAAAAAAAAAAAAAAAA;
      end
      REQMSG78: begin
         reqmsg = 1 ;
      end
      RESPMSG77: begin
         respmsg = 1 ;
      end
      finishtrim: begin
         trim_sig_end = 1;
      end
      ST_Start_Trim: begin
         trim_sig_start = 1;
      end
      START_ADC: begin
         test_rx_start= 1;
      end
      ST_Done: begin
         state_o = 3'b110;
         test_elink_data_done =1;
      end
      ST_Done_Wait: begin
         state_o     = 3'b101;
      end
      ST_Loop_cnt: begin
         state_o     = 3'b010;
         counter_gen_en = 1;
      end
      ST_Loop_cnt1: begin
         counter_gen_en = 1;
      end
      ST_Rst_Cnt1: begin
         rst_cnt = 1 ;
      end
      ST_Rst_Cnt2: begin
         rst_cnt = 1 ;
      end
      ST_counter_Wait1: begin
         state_o     = 3'b101;
      end
      ST_Done1: begin
         test_tx_end =1;
      end
      ST_Loop_cnt2: begin
         counter_gen_en = 1;
      end
      ST_Rst_Cnt3: begin
         rst_cnt = 1 ;
      end
      ST_Enable_Data3: begin
         state_o     = 3'b001;
         ch = 14 ;
         start_write_emulator      = 1;
      end
      ST_Wait_Suc_Tra4: begin
         ch = 14;
      end
      REQMSG9: begin
         reqmsg = 1 ;
         ch = 14;
      end
      RESPMSG9: begin
         respmsg = 1 ;
      end
      ST_Done_Wait4: begin
         state_o     = 3'b101;
      end
      ST_Enable_Data4: begin
         state_o     = 3'b001;
         ch = 15 ;
         start_write_emulator      = 1;
      end
      ST_Wait_Suc_Tra5: begin
         ch = 15;
      end
      REQMSG10: begin
         reqmsg = 1 ;
         ch = 15;
      end
      RESPMSG10: begin
         respmsg = 1 ;
      end
      ST_Done_Wait5: begin
         state_o     = 3'b101;
      end
      ST_test_tx_end: begin
         test_tx_start =1;
      end
      ST_En_Buffer1: begin
         state_o     = 3'b011;
         buffer_en = 1;
      end
      ST_End_Read1: begin
         state_o     = 3'b100;
         end_read_elink =1;
      end
      REQMSG5: begin
         reqmsg = 1 ;
      end
      RESPMSG5: begin
         respmsg = 1 ;
      end
      ST_Bus_cnt2: begin
         state_o     = 3'b010;
         ch =12;
      end
      ST_start_test: begin
         state_o     = 3'b001;
         irq_elink_tra  = 1;
         ch =12;
      end
      ST_Enable_Data9: begin
         state_o     = 3'b001;
         ch = 12 ;
         start_write_emulator      = 1;
      end
      REQMSG15: begin
         reqmsg = 1 ;
      end
      RESPMSG15: begin
         respmsg = 1 ;
      end
      ST_Done_Wait11: begin
         state_o     = 3'b101;
      end
      ST_Enable_Data10: begin
         state_o     = 3'b001;
         ch = 18;
         start_write_emulator      = 1;
      end
      REQMSG16: begin
         reqmsg = 1 ;
      end
      RESPMSG16: begin
         respmsg = 1 ;
      end
      ST_Done_Wait12: begin
         state_o     = 3'b101;
      end
      ST_Enable_Data11: begin
         state_o     = 3'b001;
         ch = 17 ;
         start_write_emulator      = 1;
      end
      REQMSG17: begin
         reqmsg = 1 ;
      end
      RESPMSG17: begin
         respmsg = 1 ;
      end
      ST_Done_Wait13: begin
         state_o     = 3'b101;
      end
      ST_Enable_Data12: begin
         state_o     = 3'b001;
         ch = 16 ;
         start_write_emulator      = 1;
      end
      REQMSG18: begin
         reqmsg = 1 ;
      end
      RESPMSG18: begin
         respmsg = 1 ;
      end
      ST_Done_Wait14: begin
         state_o     = 3'b101;
      end
      ST_Rst_Cnt4: begin
         rst_cnt = 1 ;
         trim_sig_done =1;
      end
      ST_Loop_Cnt1: begin
         counter_gen_en = 1 ;
         rst_mops_dbg =1;
      end
      ST_Done_Wait15: begin
         state_o     = 3'b101;
      end
      ST_En_Buffer2: begin
         state_o     = 3'b011;
         buffer_en = 1;
      end
      ST_End_Read2: begin
         state_o     = 3'b100;
         end_read_elink =1;
      end
      REQMSG19: begin
         reqmsg = 1 ;
      end
      RESPMSG19: begin
         respmsg = 1 ;
      end
      ST_Bus_cnt3: begin
         state_o     = 3'b010;
         ch =13;
      end
      ST_start_test1: begin
         state_o     = 3'b001;
         irq_elink_tra  = 1;
         ch =13;
      end
      ST_Done_Wait16: begin
         state_o     = 3'b101;
      end
      ST_En_Buffer3: begin
         state_o     = 3'b011;
         buffer_en = 1;
      end
      ST_End_Read3: begin
         state_o     = 3'b100;
         end_read_elink =1;
      end
      REQMSG20: begin
         reqmsg = 1 ;
      end
      RESPMSG20: begin
         respmsg = 1 ;
      end
      ST_Bus_cnt4: begin
         state_o     = 3'b010;
         ch =14;
      end
      ST_start_test2: begin
         state_o     = 3'b001;
         irq_elink_tra  = 1;
         ch =14;
      end
      ST_Done_Wait17: begin
         state_o     = 3'b101;
      end
      ST_En_Buffer4: begin
         state_o     = 3'b011;
         buffer_en = 1;
      end
      ST_End_Read4: begin
         state_o     = 3'b100;
         end_read_elink =1;
      end
      REQMSG21: begin
         reqmsg = 1 ;
      end
      RESPMSG21: begin
         respmsg = 1 ;
      end
      ST_Bus_cnt5: begin
         state_o     = 3'b010;
         ch =15;
      end
      ST_start_test3: begin
         state_o     = 3'b001;
         irq_elink_tra  = 1;
         ch =15;
      end
      ST_Done_Wait18: begin
         state_o     = 3'b101;
      end
      READ72: begin
         start = 1;
         custommsg = 1;
         customcanid = {5'h0C,7'h1};
         data = 64'hDEADBEEFDEADBEAF;
      end
      REQMSG74: begin
         reqmsg = 1 ;
      end
      RESPMSG73: begin
         respmsg = 1 ;
      end
      Start1: begin
         costum_msg_start =1;
      end
      end_rand1: begin
         costum_msg_end =1;
      end
      REQMSG75: begin
         reqmsg = 1 ;
      end
      RESPMSG74: begin
         respmsg = 1 ;
      end
      ST_Enable_Data14: begin
         rand_rec_in = {6'h20,6'h0,64'hDEADBEEFDEADBEAF};
         start_write_emulator_spi = 1;
      end
      REQMSG23: begin
         reqmsg = 1 ;
      end
      RESPMSG23: begin
         respmsg = 1 ;
      end
      ST_Done_Wait20: begin
         state_o     = 3'b101;
      end
      READ68: begin
         start = 1;
         readadc = 1 ;
         ch = 29 ;
         test_simult =1;
      end
      READ69: begin
         test_simult =1;
      end
      READ70: begin
         test_simult =1;
      end
   endcase
end // Output Block

//-----------------------------------------------------------------
// Clocked Block for machine csm
//-----------------------------------------------------------------
always @(
   posedge clk, 
   negedge rst
) 
begin : clocked_block_proc
   if (!rst) begin
      current_state <= ST_Reset;
      csm_timer <= 16'd0;
   end
   else 
   begin
      current_state <= next_state;
      csm_timer <= csm_next_timer;
   end
end // Clocked Block

//-----------------------------------------------------------------
// Wait state logic for machine csm
//-----------------------------------------------------------------
always @(
   csm_timer,
   csm_to_READ62,
   csm_to_ACK127,
   csm_to_ACK128,
   csm_to_REQMSGWAIT64,
   csm_to_RESPMSGWAIT63,
   csm_to_READ63,
   csm_to_ACK129,
   csm_to_ACK130,
   csm_to_REQMSGWAIT65,
   csm_to_RESPMSGWAIT64,
   csm_to_READ64,
   csm_to_ACK131,
   csm_to_ACK132,
   csm_to_REQMSGWAIT66,
   csm_to_RESPMSGWAIT65,
   csm_to_READ65,
   csm_to_ACK133,
   csm_to_ACK134,
   csm_to_REQMSGWAIT67,
   csm_to_RESPMSGWAIT66,
   csm_to_READ66,
   csm_to_ACK135,
   csm_to_ACK136,
   csm_to_REQMSGWAIT68,
   csm_to_RESPMSGWAIT67,
   csm_to_READ67,
   csm_to_ACK137,
   csm_to_ACK138,
   csm_to_REQMSGWAIT69,
   csm_to_RESPMSGWAIT68,
   csm_to_SIGN_IN,
   csm_to_s4,
   csm_to_READ75,
   csm_to_ACK153,
   csm_to_REQMSGWAIT78,
   csm_to_ST_Done_Wait,
   csm_to_ST_counter_Wait,
   csm_to_ST_counter_Wait1,
   csm_to_ST_Wait_Suc_Tra4,
   csm_to_ST_Wait_Suc_Rec4,
   csm_to_RESPMSGWAIT75,
   csm_to_ST_Done_Wait4,
   csm_to_ST_Wait_Suc_Tra5,
   csm_to_ST_Wait_Suc_Rec5,
   csm_to_RESPMSGWAIT76,
   csm_to_ST_Done_Wait5,
   csm_to_RESPMSGWAIT85,
   csm_to_ST_Wait_Suc_Rec1,
   csm_to_ST_Wait_Suc_Tra10,
   csm_to_ST_Wait_Suc_Rec10,
   csm_to_RESPMSGWAIT87,
   csm_to_ST_Done_Wait11,
   csm_to_ST_Wait_Suc_Tra11,
   csm_to_ST_Wait_Suc_Rec11,
   csm_to_RESPMSGWAIT88,
   csm_to_ST_Done_Wait12,
   csm_to_ST_Wait_Suc_Tra12,
   csm_to_ST_Wait_Suc_Rec12,
   csm_to_RESPMSGWAIT89,
   csm_to_ST_Done_Wait13,
   csm_to_ST_Wait_Suc_Tra13,
   csm_to_ST_Wait_Suc_Rec13,
   csm_to_RESPMSGWAIT90,
   csm_to_ST_Done_Wait14,
   csm_to_s56,
   csm_to_ST_Wait_Suc_Tra14,
   csm_to_ST_Done_Wait15,
   csm_to_RESPMSGWAIT91,
   csm_to_ST_Wait_Suc_Rec14,
   csm_to_ST_Wait_Suc_Tra15,
   csm_to_ST_Done_Wait16,
   csm_to_RESPMSGWAIT92,
   csm_to_ST_Wait_Suc_Rec15,
   csm_to_ST_Wait_Suc_Tra16,
   csm_to_ST_Done_Wait17,
   csm_to_RESPMSGWAIT93,
   csm_to_ST_Wait_Suc_Rec16,
   csm_to_ST_Wait_Suc_Tra17,
   csm_to_ST_Done_Wait18,
   csm_to_READ72,
   csm_to_ACK148,
   csm_to_RESPMSGWAIT78,
   csm_to__Wait3,
   csm_to__Wait4,
   csm_to_READ73,
   csm_to_ACK149,
   csm_to_ACK150,
   csm_to_REQMSGWAIT75,
   csm_to_RESPMSGWAIT79,
   csm_to__Wait6,
   csm_to_ST_Wait_Suc_Tra19,
   csm_to_ST_Wait_Suc_Rec18,
   csm_to_RESPMSGWAIT95,
   csm_to_ST_Done_Wait20,
   csm_to__Wait7,
   csm_to_READ68,
   csm_to_READ69,
   csm_to_READ70
)
begin : csm_wait_block_proc
   csm_timeout = (csm_timer == 16'd0);
   if (csm_to_READ62 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ACK127 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ACK128 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_REQMSGWAIT64 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_RESPMSGWAIT63 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_READ63 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ACK129 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ACK130 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_REQMSGWAIT65 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_RESPMSGWAIT64 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_READ64 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ACK131 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ACK132 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_REQMSGWAIT66 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_RESPMSGWAIT65 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_READ65 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ACK133 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ACK134 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_REQMSGWAIT67 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_RESPMSGWAIT66 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_READ66 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ACK135 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ACK136 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_REQMSGWAIT68 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_RESPMSGWAIT67 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_READ67 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ACK137 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ACK138 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_REQMSGWAIT69 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_RESPMSGWAIT68 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_SIGN_IN == 1'b1) begin
      csm_next_timer = 16'd19999;  //no cycles(20000)-1=19999
   end
   else if (csm_to_s4 == 1'b1) begin
      csm_next_timer = 16'd3999;  //no cycles(4000)-1=3999
   end
   else if (csm_to_READ75 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ACK153 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_REQMSGWAIT78 == 1'b1) begin
      csm_next_timer = 16'd999;  //no cycles(1000)-1=999
   end
   else if (csm_to_ST_Done_Wait == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_ST_counter_Wait == 1'b1) begin
      csm_next_timer = 16'd1999;  //no cycles(2000)-1=1999
   end
   else if (csm_to_ST_counter_Wait1 == 1'b1) begin
      csm_next_timer = 16'd1999;  //no cycles(2000)-1=1999
   end
   else if (csm_to_ST_Wait_Suc_Tra4 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_ST_Wait_Suc_Rec4 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_RESPMSGWAIT75 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ST_Done_Wait4 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ST_Wait_Suc_Tra5 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_ST_Wait_Suc_Rec5 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_RESPMSGWAIT76 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ST_Done_Wait5 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_RESPMSGWAIT85 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ST_Wait_Suc_Rec1 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_ST_Wait_Suc_Tra10 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_ST_Wait_Suc_Rec10 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_RESPMSGWAIT87 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ST_Done_Wait11 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ST_Wait_Suc_Tra11 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_ST_Wait_Suc_Rec11 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_RESPMSGWAIT88 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ST_Done_Wait12 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ST_Wait_Suc_Tra12 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_ST_Wait_Suc_Rec12 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_RESPMSGWAIT89 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ST_Done_Wait13 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ST_Wait_Suc_Tra13 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_ST_Wait_Suc_Rec13 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_RESPMSGWAIT90 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ST_Done_Wait14 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_s56 == 1'b1) begin
      csm_next_timer = 16'd999;  //no cycles(1000)-1=999
   end
   else if (csm_to_ST_Wait_Suc_Tra14 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_ST_Done_Wait15 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_RESPMSGWAIT91 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ST_Wait_Suc_Rec14 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_ST_Wait_Suc_Tra15 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_ST_Done_Wait16 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_RESPMSGWAIT92 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ST_Wait_Suc_Rec15 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_ST_Wait_Suc_Tra16 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_ST_Done_Wait17 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_RESPMSGWAIT93 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ST_Wait_Suc_Rec16 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_ST_Wait_Suc_Tra17 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_ST_Done_Wait18 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_READ72 == 1'b1) begin
      csm_next_timer = 16'd999;  //no cycles(1000)-1=999
   end
   else if (csm_to_ACK148 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_RESPMSGWAIT78 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to__Wait3 == 1'b1) begin
      csm_next_timer = 16'd999;  //no cycles(1000)-1=999
   end
   else if (csm_to__Wait4 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_READ73 == 1'b1) begin
      csm_next_timer = 16'd999;  //no cycles(1000)-1=999
   end
   else if (csm_to_ACK149 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ACK150 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_REQMSGWAIT75 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_RESPMSGWAIT79 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to__Wait6 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_ST_Wait_Suc_Tra19 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_ST_Wait_Suc_Rec18 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_RESPMSGWAIT95 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_ST_Done_Wait20 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to__Wait7 == 1'b1) begin
      csm_next_timer = 16'd4999;  //no cycles(5000)-1=4999
   end
   else if (csm_to_READ68 == 1'b1) begin
      csm_next_timer = 16'd1499;  //no cycles(1500)-1=1499
   end
   else if (csm_to_READ69 == 1'b1) begin
      csm_next_timer = 16'd34999;  //no cycles(35000)-1=34999
   end
   else if (csm_to_READ70 == 1'b1) begin
      csm_next_timer = 16'd14999;  //no cycles(15000)-1=14999
   end
   else begin
      csm_next_timer = (csm_timeout)? 16'd0: (csm_timer - 16'd1);
   end
end // Wait State Block
endmodule // data_generator_SM
