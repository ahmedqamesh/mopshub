//
// Module mopshub_testbench.can_net_decoder.struct
//
// Created:
//          by - dcs.dcs (chipdev2.physik.uni-wuppertal.de)
//          at - 18:56:50 01/07/22
//
// Generated by Mentor Graphics' HDL Designer(TM) 2019.4 (Build 4)
//

`resetall
`timescale 1ns/10ps
module can_net_decoder( 
   // Port Declarations
   input   wire    [4:0]  bus_cnt, 
   input   wire    [4:0]  bus_loop_cnt, 
   input   wire           clk, 
   input   wire           ext_rst_mops, 
   input   wire           ext_trim_mops, 
   input   wire           osc_auto_trim, 
   input   wire           rst, 
   input   wire           rst_mops, 
   input   wire           sel_bus, 
   input   wire           tx_mopshub0, 
   input   wire           tx_mopshub1, 
   input   wire           tx_mopshub2, 
   input   wire           tx_mopshub3, 
   input   wire           tx_mopshub4, 
   input   wire           tx_mopshub5, 
   input   wire           tx_mopshub6, 
   input   wire           tx_mopshub7, 
   input   wire           txgen, 
   output  wire           ready_osc, 
   output  wire           rx_mopshub, 
   output  wire           rx_mopshub0, 
   output  wire           rx_mopshub1, 
   output  wire           rx_mopshub2, 
   output  wire           rx_mopshub3, 
   output  wire           rx_mopshub4, 
   output  wire           rx_mopshub5, 
   output  wire           rx_mopshub6, 
   output  wire           rx_mopshub7, 
   output  wire           rxdec, 
   output  wire    [4:0]  select_bus, 
   output  wire           tx_mopshub
);


// Internal Declarations


// Local declarations

// Internal signal declarations
wire        auto_trim_mops;
reg   [6:0] can_nodeid      = 7'h1;    // Hardwired CANopen Node-ID for each DCS controller chip
reg   [6:0] can_nodeid0     = 7'h0;    // Hardwired CANopen Node-ID for each DCS controller chip
reg   [6:0] can_nodeid1     = 7'h1;    // Hardwired CANopen Node-ID for each DCS controller chip
reg         rst_n;
wire        rx0_mops0;
wire        rx0_mops1;
wire        rx1_mops0;
wire        rx1_mops1;
wire        rxmops;
wire        tx0_mops0;
wire        tx0_mops1;
wire        tx1_mops0;
wire        tx1_mops1;
wire        txmops;


// Instances 
mops_top_level mops_top_level0( 
   .can_nodeid    (can_nodeid), 
   .clk           (clk), 
   .osc_auto_trim (auto_trim_mops), 
   .rst_n         (rst_mops), 
   .rxmops        (rxmops), 
   .ready_osc     (ready_osc), 
   .txmops        (txmops)
); 

mops_top_level mops_top_level0m0( 
   .can_nodeid    (can_nodeid0), 
   .clk           (clk), 
   .osc_auto_trim (), 
   .rst_n         (rst_n), 
   .rxmops        (rx0_mops0), 
   .ready_osc     (), 
   .txmops        (tx0_mops0)
); 

mops_top_level mops_top_level0m1( 
   .can_nodeid    (can_nodeid1), 
   .clk           (clk), 
   .osc_auto_trim (), 
   .rst_n         (rst_n), 
   .rxmops        (rx0_mops1), 
   .ready_osc     (), 
   .txmops        (tx0_mops1)
); 

mops_top_level mops_top_level1m0( 
   .can_nodeid    (can_nodeid0), 
   .clk           (clk), 
   .osc_auto_trim (), 
   .rst_n         (rst_n), 
   .rxmops        (rx1_mops0), 
   .ready_osc     (), 
   .txmops        (tx1_mops0)
); 

mops_top_level mops_top_level1m1( 
   .can_nodeid    (can_nodeid1), 
   .clk           (clk), 
   .osc_auto_trim (), 
   .rst_n         (rst_n), 
   .rxmops        (rx1_mops1), 
   .ready_osc     (), 
   .txmops        (tx1_mops1)
); 

// HDL Embedded Text Block 4 Bus_signals0
//assign rx_mopshub0 =  ~(rst ^ (tx_mopshub0 & tx0_mops0 & tx0_mops1 & txgen));
assign rx0_mops0  = ~(rst ^rx_mopshub0);
assign rx0_mops1  = ~(rst ^rx_mopshub0);











































































































































































// HDL Embedded Text Block 5 Bus_signals1
//assign rx_mopshub1 =  ~(rst ^(tx_mopshub1 & tx1_mops0 & tx1_mops1 & txgen));
assign rx1_mops0   = ~(rst ^rx_mopshub1);
assign rx1_mops1   = ~(rst ^rx_mopshub1);



































































































































































// HDL Embedded Text Block 6 rst_mops1
assign auto_trim_mops = (ext_trim_mops||osc_auto_trim);



















// HDL Embedded Text Block 7 rx_assign1
assign select_bus =(sel_bus ==1'b1) ? bus_cnt: bus_loop_cnt;


assign rx_mopshub0 = (select_bus == 5'd0) ? ~(rst ^ (tx_mopshub0 & txgen & txmops)): 0;
assign rx_mopshub1 = (select_bus == 5'd1) ? ~(rst ^ (tx_mopshub1 & txgen & txmops)): 0;
assign rx_mopshub2 = (select_bus == 5'd2) ? ~(rst ^ (tx_mopshub2 & txgen & txmops)): 0;
assign rx_mopshub3 = (select_bus == 5'd3) ? ~(rst ^ (tx_mopshub3 & txgen & txmops)): 0;
assign rx_mopshub4 = (select_bus == 5'd4) ? ~(rst ^ (tx_mopshub4 & txgen & txmops)): 0;
assign rx_mopshub5 = (select_bus == 5'd5) ? ~(rst ^ (tx_mopshub5 & txgen & txmops)): 0;
assign rx_mopshub6 = (select_bus == 5'd6) ? ~(rst ^ (tx_mopshub6 & txgen & txmops)): 0;
assign rx_mopshub7 = (select_bus == 5'd7) ? ~(rst ^ (tx_mopshub7 & txgen & txmops)): 0;

assign rxdec       = rx_mopshub; 
assign rxmops      = rx_mopshub;
assign rx_mopshub  = ~(rst ^ (rx_mopshub0 | rx_mopshub1 | rx_mopshub2 | rx_mopshub3 | rx_mopshub4  | rx_mopshub5 | rx_mopshub6 | rx_mopshub7));
assign tx_mopshub  = ~(rst ^ (tx_mopshub0 & tx_mopshub1 & tx_mopshub2 & tx_mopshub3 & tx_mopshub4  & tx_mopshub5 & tx_mopshub6 & tx_mopshub7));




















































































































































































endmodule // can_net_decoder

